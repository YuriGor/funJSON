{"version":3,"file":"funJSON.min.js","sources":["../es/funJSON.js"],"sourcesContent":["function reviver(key, value) {\n  if (detect(key, value)) {\n    try {\n      value = eval('(' + value + ')');\n    } catch (exc) {\n      /* invalid js? leave as is */\n    }\n  }\n  return value;\n}\n\nfunction detect(key, value) {\n  if (typeof value !== 'string') {\n    return false;\n  }\n\n  return (\n    typeof value == 'string' &&\n    (/^function\\s*\\([\\s\\w$,_/*]*\\)\\s*\\{[\\s\\S]*\\}$/.test(value) ||\n      /^\\([\\s\\w$,_/*]*\\)\\s*=>\\s*\\{[\\s\\S]*\\}$/.test(value))\n  );\n}\n\nfunction replacer(key, value) {\n  if (typeof value == 'function') value = value.toString();\n  return value;\n}\n\nexport function parse(text, extReviver) {\n  return JSON.parse(text, extReviver || reviver);\n}\n\nexport function stringify(value, extReplacer, space) {\n  return JSON.stringify(value, extReplacer || replacer, space);\n}\n\nexport function stringifyToScript(value, extReplacer, space) {\n  var functions = [];\n  var rp = function(key, value) {\n    if (typeof value == 'function') {\n      value = extReplacer ? extReplacer(key, value) : value.toString();\n      functions.push(value);\n    }\n    return value;\n  };\n  var script = stringify(value, rp, space);\n  for (var i = 0; i < functions.length; i++) {\n    script = script.replace(stringify(functions[i], rp, space), functions[i]);\n  }\n  return script;\n}\n"],"names":[],"mappings":";;;EAAA,SAAS,OAAO,CAAC,GAAG,EAAE,KAAK,EAAE;IAC3B,IAAI,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE;MACtB,IAAI;QACF,KAAK,GAAG,IAAI,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC;OACjC,CAAC,OAAO,GAAG,EAAE;;OAEb;KACF;IACD,OAAO,KAAK,CAAC;GACd;;EAED,SAAS,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE;IAC1B,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;MAC7B,OAAO,KAAK,CAAC;KACd;;IAED;MACE,OAAO,KAAK,IAAI,QAAQ;OACvB,6CAA6C,CAAC,IAAI,CAAC,KAAK,CAAC;QACxD,uCAAuC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;MACtD;GACH;;EAED,SAAS,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE;IAC5B,IAAI,OAAO,KAAK,IAAI,UAAU,IAAE,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAC;IACzD,OAAO,KAAK,CAAC;GACd;;AAED,EAAO,SAAS,KAAK,CAAC,IAAI,EAAE,UAAU,EAAE;IACtC,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,UAAU,IAAI,OAAO,CAAC,CAAC;GAChD;;AAED,EAAO,SAAS,SAAS,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE;IACnD,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,WAAW,IAAI,QAAQ,EAAE,KAAK,CAAC,CAAC;GAC9D;;AAED,EAAO,SAAS,iBAAiB,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE;IAC3D,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,IAAI,EAAE,GAAG,SAAS,GAAG,EAAE,KAAK,EAAE;MAC5B,IAAI,OAAO,KAAK,IAAI,UAAU,EAAE;QAC9B,KAAK,GAAG,WAAW,GAAG,WAAW,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QACjE,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;OACvB;MACD,OAAO,KAAK,CAAC;KACd,CAAC;IACF,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;IACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;MACzC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;KAC3E;IACD,OAAO,MAAM,CAAC;GACf;;;;;;;;;;;;"}