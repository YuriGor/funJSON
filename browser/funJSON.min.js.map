{"version":3,"file":"funJSON.min.js","sources":["../es/funJSON.js"],"sourcesContent":["function reviver(key, value) {\n  if (detect(key, value)) {\n    try {\n      value = eval('(' + value + ')');\n    } catch (exc) {\n      /* invalid js? leave as is */\n    }\n  }\n  return value;\n}\n\nfunction detect(key, value) {\n  return (\n    typeof value == 'string' &&\n    (/^\\s*(async\\s+)*function\\s*\\([\\s\\w$,_/*]*\\)\\s*\\{[\\s\\S]*\\}$/.test(value) ||\n      /^\\s*(async\\s+)*\\([\\s\\w$,_/*]*\\)\\s*=>\\s*\\{[\\s\\S]*\\}$/.test(value))\n  );\n}\n\nfunction replacer(key, value) {\n  if (typeof value == 'function') value = value.toString();\n  return value;\n}\n\nexport function parse(text, extReviver) {\n  return JSON.parse(text, extReviver || reviver);\n}\n\nexport function stringify(value, extReplacer, space) {\n  return JSON.stringify(value, extReplacer || replacer, space);\n}\n\nexport function stringifyToScript(value, extReplacer, space) {\n  var functions = [];\n  var rp = function(key, value) {\n    if (typeof value == 'function') {\n      value = extReplacer ? extReplacer(key, value) : value.toString();\n      functions.push(value);\n    }\n    return value;\n  };\n  var script = stringify(value, rp, space);\n  for (var i = 0; i < functions.length; i++) {\n    script = script.replace(stringify(functions[i], rp, space), functions[i]);\n  }\n  return script;\n}\n"],"names":[],"mappings":";;;EAAA,SAAS,OAAO,CAAC,GAAG,EAAE,KAAK,EAAE;EAC7B,EAAE,IAAI,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE;EAC1B,IAAI,IAAI;EACR,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC;EACtC,KAAK,CAAC,OAAO,GAAG,EAAE;EAClB;EACA,KAAK;EACL,GAAG;EACH,EAAE,OAAO,KAAK,CAAC;EACf,CAAC;AACD;EACA,SAAS,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE;EAC5B,EAAE;EACF,IAAI,OAAO,KAAK,IAAI,QAAQ;EAC5B,KAAK,2DAA2D,CAAC,IAAI,CAAC,KAAK,CAAC;EAC5E,MAAM,qDAAqD,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACxE,IAAI;EACJ,CAAC;AACD;EACA,SAAS,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE;EAC9B,EAAE,IAAI,OAAO,KAAK,IAAI,UAAU,IAAE,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAC;EAC3D,EAAE,OAAO,KAAK,CAAC;EACf,CAAC;AACD;EACO,SAAS,KAAK,CAAC,IAAI,EAAE,UAAU,EAAE;EACxC,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,UAAU,IAAI,OAAO,CAAC,CAAC;EACjD,CAAC;AACD;EACO,SAAS,SAAS,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE;EACrD,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,WAAW,IAAI,QAAQ,EAAE,KAAK,CAAC,CAAC;EAC/D,CAAC;AACD;EACO,SAAS,iBAAiB,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE;EAC7D,EAAE,IAAI,SAAS,GAAG,EAAE,CAAC;EACrB,EAAE,IAAI,EAAE,GAAG,SAAS,GAAG,EAAE,KAAK,EAAE;EAChC,IAAI,IAAI,OAAO,KAAK,IAAI,UAAU,EAAE;EACpC,MAAM,KAAK,GAAG,WAAW,GAAG,WAAW,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;EACvE,MAAM,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC5B,KAAK;EACL,IAAI,OAAO,KAAK,CAAC;EACjB,GAAG,CAAC;EACJ,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;EAC3C,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EAC7C,IAAI,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9E,GAAG;EACH,EAAE,OAAO,MAAM,CAAC;EAChB;;;;;;;;;;;;"}