{"version":3,"file":"funJSON.js","sources":["es/funJSON.js"],"sourcesContent":["function reviver(key, value) {\n  if (detect(key, value)) {\n    try {\n      value = eval('(' + value + ')');\n    } catch (exc) {\n      /* invalid js? leave as is */\n    }\n  }\n  return value;\n}\n\nfunction detect(key, value) {\n  if (typeof value !== 'string') {\n    return false;\n  }\n\n  return (\n    typeof value == 'string' &&\n    (/^function\\s*\\([\\s\\w$,_/*]*\\)\\s*\\{[\\s\\S]*\\}$/.test(value) ||\n      /^\\([\\s\\w$,_/*]*\\)\\s*=>\\s*\\{[\\s\\S]*\\}$/.test(value))\n  );\n}\n\nfunction replacer(key, value) {\n  if (typeof value == 'function') value = value.toString();\n  return value;\n}\n\nexport function parse(text, extReviver) {\n  return JSON.parse(text, extReviver || reviver);\n}\n\nexport function stringify(value, extReplacer, space) {\n  return JSON.stringify(value, extReplacer || replacer, space);\n}\n\nexport function stringifyToScript(value, extReplacer, space) {\n  var functions = [];\n  var rp = function(key, value) {\n    if (typeof value == 'function') {\n      value = extReplacer ? extReplacer(key, value) : value.toString();\n      functions.push(value);\n    }\n    return value;\n  };\n  var script = stringify(value, rp, space);\n  for (var i = 0; i < functions.length; i++) {\n    script = script.replace(stringify(functions[i], rp, space), functions[i]);\n  }\n  return script;\n}\n"],"names":[],"mappings":";;AAAA,SAAS,OAAO,CAAC,GAAG,EAAE,KAAK,EAAE;EAC3B,IAAI,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE;IACtB,IAAI;MACF,KAAK,GAAG,IAAI,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC;KACjC,CAAC,OAAO,GAAG,EAAE;;KAEb;GACF;EACD,OAAO,KAAK,CAAC;CACd;;AAED,SAAS,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE;EAC1B,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;IAC7B,OAAO,KAAK,CAAC;GACd;;EAED;IACE,OAAO,KAAK,IAAI,QAAQ;KACvB,6CAA6C,CAAC,IAAI,CAAC,KAAK,CAAC;MACxD,uCAAuC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACtD;CACH;;AAED,SAAS,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAE;EAC5B,IAAI,OAAO,KAAK,IAAI,UAAU,IAAE,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAC;EACzD,OAAO,KAAK,CAAC;CACd;;AAED,AAAO,SAAS,KAAK,CAAC,IAAI,EAAE,UAAU,EAAE;EACtC,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,UAAU,IAAI,OAAO,CAAC,CAAC;CAChD;;AAED,AAAO,SAAS,SAAS,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE;EACnD,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,WAAW,IAAI,QAAQ,EAAE,KAAK,CAAC,CAAC;CAC9D;;AAED,AAAO,SAAS,iBAAiB,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE;EAC3D,IAAI,SAAS,GAAG,EAAE,CAAC;EACnB,IAAI,EAAE,GAAG,SAAS,GAAG,EAAE,KAAK,EAAE;IAC5B,IAAI,OAAO,KAAK,IAAI,UAAU,EAAE;MAC9B,KAAK,GAAG,WAAW,GAAG,WAAW,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;MACjE,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACvB;IACD,OAAO,KAAK,CAAC;GACd,CAAC;EACF,IAAI,MAAM,GAAG,SAAS,CAAC,KAAK,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;EACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IACzC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;GAC3E;EACD,OAAO,MAAM,CAAC;CACf;;;;;;"}